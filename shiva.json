{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Shiva Pipeline Summary",
  "description": "Schema for full Shiva pipeline runs",
  "type": "object",
  "required": [
    "samples",
    "shiva",
    "shivavariantcalling",
    "meta"
  ],
  "properties": {
    "meta": {
      "description": "Pipeline run metadata",
      "type": "object",
      "required": [
        "pipeline_version",
        "last_commit_hash",
        "pipeline_name"
      ],
      "properties": {
        "pipeline_version": {
          "description": "Version of the pipeline",
          "type": "string"
        },
        "last_commit_hash": {
          "description": "Commit hash of the source code repository at the time the pipeline was compiled",
          "type": "string",
          "minLength": 7
        },
        "pipeline_name": {
          "description": "Name of the pipeline",
          "type": "string",
          "enum": [
            "shiva",
            "shivavariantcalling"
          ]
        },
        "run_name": {
          "description": "User-supplied name of the pipeline run",
          "type": "string"
        },
        "output_dir": {
          "description": "Path to output directory of run",
          "type": "string"
        },
        "summary_creation": {
          "description": "Time of summary creation in Unix time",
          "type": "number"
        }
      }
    },
    "samples": {
      "description": "All samples analyzed in the Shiva run",
      "type": "object",
      "minItems": 1,
      "additionalProperties": {
        "$ref": "#/definitions/sample"
      }
    },
    "toucan": {
      "description": "toucan results (optional)",
      "type": "object",
      "required": [
        "files",
        "executables",
        "stats",
        "settings"
      ],
      "properties": {
        "files": {
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/file"
              },
              {
                "$ref": "#/definitions/fileGroup"
              }
            ]
          }
        },
        "executables": {
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/executable"
              },
              {
                "$ref": "#/definitions/gatk_executable"
              },
              {
                "$ref": "#/definitions/java_executable"
              }
            ]
          }
        },
        "stats": {
          "type": "object",
          "required": [
            "variant_effect_predictor"
          ],
          "properties": {
            "variant_effect_predictor": {
              "$ref": "#/definitions/variant_effect_predictor"
            }
          }
        },
        "settings": {
          "type": "object"
        }
      }
    },
    "shivavariantcalling": {
      "description": "Variant calling results for a sample",
      "type": "object",
      "required": [
        "stats",
        "files",
        "executables",
        "settings"
      ],
      "properties": {
        "files": {
          "type": "object",
          "required": [
            "pipeline"
          ],
          "minItems": 1,
          "additionalProperties": {
            "$ref": "#/definitions/fileGroup"
          }
        },
        "executables": {
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "oneOf": [
              {
                "$ref": "#/definitions/executable"
              },
              {
                "$ref": "#/definitions/java_executable"
              },
              {
                "$ref": "#/definitions/gatk_executable"
              }
            ]
          }
        },
        "stats": {
          "type": "object",
          "minItems": 1,
          "required": [
            "multisample-vcfstats-final"
          ],
          "additionalProperties": false,
          "patternProperties": {
            "-vcfstats-": {
              "oneOf": [
                {
                  "$ref": "#/definitions/vcfstats-genotype"
                },
                {
                  "$ref": "#/definitions/vcfstats-info"
                }
              ]
            }
          }
        },
        "settings": {
          "type": "object",
          "required": [
            "variantcallers",
            "regions_of_interest",
            "amplicon_bed"
          ],
          "properties": {
            "variantcallers": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "regions_of_interest": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "amplicon_bed": {
              "type": "string"
            }
          }
        }
      }
    },
    "shiva": {
      "description": "Pipeline-level Shiva information",
      "type": "object",
      "required": [
        "files",
        "executables",
        "settings"
      ],
      "properties": {
        "files": {
          "description": "Reference files used",
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "$ref": "#/definitions/fileGroup"
          }
        },
        "executables": {
          "description": "Executables used",
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "oneOf": [
              {
                "$ref": "#/definitions/executable"
              },
              {
                "$ref": "#/definitions/java_executable"
              },
              {
                "$ref": "#/definitions/gatk_executable"
              }
            ]
          }
        },
        "settings": {
          "description": "Settings used",
          "type": "object",
          "required": [
            "reference",
            "multisample_variantcalling",
            "sv_calling",
            "annotation"
          ],
          "properties": {
            "reference": {
              "description": "Info about the reference used",
              "type": "object",
              "required": [
                "contigs"
              ],
              "properties": {
                "contigs": {
                  "description": "The contigs used",
                  "minItems": 1,
                  "additionalProperties": {
                    "$ref": "#/definitions/contig"
                  }
                },
                "name": {
                  "description": "name of the reference",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "species": {
                  "description": "The species of the reference",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              }
            },
            "multisample_variantcalling": {
              "description": "Whether multi sample variant calling was used",
              "type": "boolean"
            },
            "sv_calling": {
              "description": "Whether SV calling was used",
              "type": "boolean"
            },
            "annotation": {
              "description": "Whether annotation was used",
              "type": "boolean"
            },
            "regions_of_interest": {
              "description": "list of ROIs",
              "type": "array",
              "minItems": 0
            },
            "amplicon_bed": {
              "description": "Path to capture kit bed file",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "sample": {
      "description": "A shiva sample",
      "type": "object",
      "required": [
        "libraries",
        "shiva",
        "bammetrics",
        "shivavariantcalling"
      ],
      "properties": {
        "libraries": {
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "$ref": "#/definitions/library"
          }
        },
        "shiva": {
          "type": "object",
          "required": [
            "files",
            "tags",
            "stats",
            "settings"
          ],
          "properties": {
            "files": {
              "type": "object",
              "required": [
                "pipeline"
              ],
              "properties": {
                "pipeline": {
                  "type": "object",
                  "required": [
                    "output_bam"
                  ],
                  "properties": {
                    "output_bam": {
                      "$ref": "#/definitions/file"
                    }
                  },
                  "additionalProperties": {
                    "$ref": "#/definitions/file"
                  }
                }
              }
            },
            "tags": {
              "type": "object"
            },
            "stats": {
              "type": "object"
            },
            "settings": {
              "type": "object",
              "required": [
                "single_sample_variantcalling",
                "use_indel_realigner"
              ],
              "properties": {
                "single_sample_variantcalling": {
                  "type": "boolean"
                },
                "use_indel_realigner": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "bammetrics": {
          "type": "object",
          "required": [
            "files",
            "executables",
            "stats",
            "settings"
          ],
          "properties": {
            "files": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/file"
                  },
                  {
                    "$ref": "#/definitions/fileGroup"
                  }
                ]
              }
            },
            "executables": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/executable"
                  },
                  {
                    "$ref": "#/definitions/gatk_executable"
                  },
                  {
                    "$ref": "#/definitions/java_executable"
                  }
                ]
              }
            },
            "stats": {
              "type": "object",
              "properties": {
                "MeanQualityByCycle": {
                  "$ref": "#/definitions/MeanQualityByCycle"
                },
                "multi_metrics": {
                  "$ref": "#/definitions/multi_metrics"
                },
                "hs_metrics": {
                  "$ref": "#/definitions/hs_metrics"
                },
                "CollectAlignmentSummaryMetrics": {
                  "$ref": "#/definitions/CollectAlignmentSummaryMetrics"
                },
                "QualityScoreDistribution": {
                  "$ref": "#/definitions/QualityScoreDistribution"
                },
                "targeted_pcr_metrics": {
                  "$ref": "#/definitions/targeted_pcr_metrics"
                },
                "wgs": {
                  "$ref": "#/definitions/wgs"
                },
                "CollectBaseDistributionByCycle": {
                  "$ref": "#/definitions/CollectBaseDistributionByCycle"
                },
                "gc_bias": {
                  "$ref": "#/definitions/gc_bias"
                },
                "CollectInsertSizeMetrics": {
                  "$ref": "#/definitions/CollectInsertSizeMetrics"
                }
              },
              "additionalProperties": {
                "^.+-flagstat.*$": {
                  "$ref": "#/definitions/flagstat"
                },
                "^.+-covstat$": {
                  "$ref": "#/definitions/covstat"
                }
              }
            },
            "settings": {
              "type": "object",
              "properties": {
                "amplicon_name": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "roi": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "shivavariantcalling": {
          "description": "Variant calling results for a sample",
          "type": "object",
          "required": [
            "stats"
          ],
          "properties": {
            "stats": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": false,
              "patternProperties": {
                "-vcfstats-": {
                  "oneOf": [
                    {
                      "$ref": "#/definitions/vcfstats-genotype"
                    },
                    {
                      "$ref": "#/definitions/vcfstats-info"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "vcfstats-genotype": {
      "description": "Results of a VCF stats run for genotypes",
      "type": "object",
      "required": [
        "genotype"
      ],
      "properties": {
        "genotype": {
          "type": "object",
          "required": [
            "Available",
            "Het",
            "NoCall",
            "Hom",
            "HomRef",
            "NonInformative",
            "HomVar",
            "HetNonRef",
            "Mixed",
            "Filtered",
            "Total",
            "Called"
          ],
          "properties": {
            "Available": {
              "type": [
                "string",
                "number"
              ]
            },
            "Het": {
              "type": [
                "string",
                "number"
              ]
            },
            "NoCall": {
              "type": [
                "string",
                "number"
              ]
            },
            "Hom": {
              "type": [
                "string",
                "number"
              ]
            },
            "HomRef": {
              "type": [
                "string",
                "number"
              ]
            },
            "NonInformative": {
              "type": [
                "string",
                "number"
              ]
            },
            "HomVar": {
              "type": [
                "string",
                "number"
              ]
            },
            "HetNonRef": {
              "type": [
                "string",
                "number"
              ]
            },
            "Mixed": {
              "type": [
                "string",
                "number"
              ]
            },
            "Filtered": {
              "type": [
                "string",
                "number"
              ]
            },
            "Total": {
              "type": [
                "string",
                "number"
              ]
            },
            "Called": {
              "type": [
                "string",
                "number"
              ]
            }
          }
        }
      }
    },
    "vcfstats-info": {
      "description": "Results of VcfStats on info fields",
      "type": "object",
      "required": [
        "info"
      ],
      "properties": {
        "info": {
          "type": "object",
          "properties": {
            "ComplexIndel": {
              "type": "number"
            },
            "SimpleInsertion": {
              "type": "number"
            },
            "StructuralIndel": {
              "type": "number"
            },
            "SNP": {
              "type": "number"
            },
            "MNP": {
              "type": "number"
            },
            "Variant": {
              "type": "number"
            },
            "PointEvent": {
              "type": "number"
            },
            "NotFiltered": {
              "type": "number"
            },
            "MonomorphicInSamples": {
              "type": "number"
            },
            "Symbolic": {
              "type": "number"
            },
            "Indel": {
              "type": "number"
            },
            "FullyDecoded": {
              "type": "number"
            },
            "Mixed": {
              "type": "number"
            },
            "Filtered": {
              "type": "number"
            },
            "PolymorphicInSamples": {
              "type": "number"
            },
            "Total": {
              "type": "number"
            },
            "SymbolicOrSv": {
              "type": "number"
            },
            "SimpleDeletion": {
              "type": "number"
            },
            "Biallelic": {
              "type": "number"
            }
          }
        }
      }
    },
    "executable": {
      "description": "A regular (i.e. non-java) executable",
      "type": "object",
      "required": [
        "path",
        "version",
        "md5"
      ],
      "additionalProperties": false,
      "properties": {
        "path": {
          "description": "The path to the executable",
          "type": "string"
        },
        "version": {
          "description": "The version string of the executable",
          "type": [
            "string",
            "null"
          ]
        },
        "md5": {
          "description": "The md5 checksum of the executable",
          "oneOf": [
            {
              "type": "null"
            },
            {
              "$ref": "#/definitions/md5"
            }
          ]
        }
      }
    },
    "gatk_executable": {
      "description": "GATK tools only have a version?",
      "type": "object",
      "required": [
        "version"
      ],
      "additionalProperties": false,
      "properties": {
        "version": {
          "type": "string"
        }
      }
    },
    "java_executable": {
      "description": "A java executable",
      "type": "object",
      "required": [
        "java_md5",
        "jar_path",
        "version",
        "java_version"
      ],
      "additionalProperties": false,
      "properties": {
        "java_md5": {
          "description": "The md5 checksum of the JVM",
          "oneOf": [
            {
              "type": "null"
            },
            {
              "$ref": "#/definitions/md5"
            }
          ]
        },
        "jar_path": {
          "description": "Path to the JAR",
          "type": [
            "string",
            "null"
          ]
        },
        "version": {
          "description": "Version of the used JAR",
          "type": [
            "string",
            "null"
          ]
        },
        "java_version": {
          "description": "Version of the JVM",
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "flexiprep_library": {
      "description": "Library-level Flexiprep information",
      "type": "object",
      "required": [ "files", "executables", "settings", "stats" ],

      "properties": {
        "files": {
          "description": "File groups tracked by Flexiprep",
          "type": "object",
          "required": [
            "pipeline",
            "fastqc_R1"
          ],
          "properties": {
            "pipeline": {
              "description": "Initial input files and final output files in Flexiprep",
              "type": "object",
              "required": [
                "input_R1",
                "output_R1"
              ],
              "additionalProperties": {
                "$ref": "#/definitions/file"
              }
            },
            "fastqc_R1": {
              "description": "FastQC files of the R1 read",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/file"
              }
            }
          },
          "additionalProperties": {
            "$ref": "#/definitions/fileGroup"
          }
        },
        "executables": {
          "description": "Executables used in Flexiprep",
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/executable"
              },
              {
                "$ref": "#/definitions/java_executable"
              }
            ]
          }
        },
        "settings": {
          "description": "Settings used for the Flexiprep run",
          "type": "object",
          "required": [
            "skip_trim",
            "skip_clip",
            "paired"
          ],
          "properties": {
            "skip_trim": {
              "description": "Whether base quality trimming step is skipped or not",
              "type": "boolean"
            },
            "skip_clip": {
              "description": "Whether adapter clipping step is skipped or not",
              "type": "boolean"
            },
            "paired": {
              "description": "Whether the input sequence is paired or not",
              "type": "boolean"
            }
          }
        },
        "stats": {
          "description": "Statistics gathered by Flexiprep",
          "type": "object",
          "required": [
            "fastqc_R1",
            "seqstat_R1"
          ],
          "properties": {
            "seqstat_R1": {
              "$ref": "#/definitions/statsSeqstat"
            },
            "seqstat_R2": {
              "$ref": "#/definitions/statsSeqstat"
            },
            "seqstat_R1_qc": {
              "$ref": "#/definitions/statsSeqstat"
            },
            "fastqc_R1": {
              "$ref": "#/definitions/statsFastqc"
            },
            "fastqc_R2": {
              "$ref": "#/definitions/statsFastqc"
            },
            "fastqc_R1_qc": {
              "$ref": "#/definitions/statsFastqc"
            },
            "fastqc_R2_qc": {
              "$ref": "#/definitions/statsFastqc"
            },
            "clipping_R1": {
              "$ref": "#/definitions/statsCutadapt"
            },
            "clipping_R2": {
              "$ref": "#/definitions/statsCutadapt"
            },
            "trimming_R1": {
              "$ref": "#/definitions/statsSickle"
            },
            "trimming_R2": {
              "$ref": "#/definitions/statsSickle"
            },
            "fastq_sync": {
              "description": "Statistics for read syncing, after clipping",
              "type": "object",
              "properties": {
                "num_reads_discarded_R1": {
                  "type": "integer"
                },
                "num_reads_discarded_R2": {
                  "type": "integer"
                },
                "num_reads_kept": {
                  "type": "integer"
                }
              }
            },
            "trimming": {
              "description": "Statistics for base-quality trimming, based on sickle results. Found in version 0.4.0 or earlier.",
              "type": "object",
              "required": [
                "num_reads_discarded_total",
                "num_reads_kept"
              ],
              "additionalProperties": false,
              "properties": {
                "num_reads_discarded_total": {
                  "type": "integer"
                },
                "num_reads_kept": {
                  "type": "integer"
                },
                "num_reads_discarded_R1": {
                  "type": "integer"
                },
                "num_reads_discarded_R2": {
                  "type": "integer"
                },
                "num_reads_discarded_both": {
                  "type": "integer"
                },
                "num_reads_kept_R1": {
                  "type": "integer"
                },
                "num_reads_kept_R2": {
                  "type": "integer"
                }
              }
            }
          }
        }
      }
    },
    "library": {
      "description": "A sequence read group",
      "type": "object",
      "required": [
        "flexiprep",
        "mapping",
        "bammetrics",
        "shiva"
      ],
      "properties": {
        "flexiprep": {
          "$ref": "#/definitions/flexiprep_library"
        },
        "mapping": {
          "type": "object",
          "required": [
            "files",
            "executables",
            "stats",
            "settings"
          ],
          "properties": {
            "files": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/file"
                  },
                  {
                    "$ref": "#/definitions/fileGroup"
                  }
                ]
              }
            },
            "executables": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/executable"
                  },
                  {
                    "$ref": "#/definitions/gatk_executable"
                  },
                  {
                    "$ref": "#/definitions/java_executable"
                  }
                ]
              }
            },
            "stats": {
              "type": "object",
              "properties": {
                "mark_duplicates": {
                  "type": "object",
                  "required": [
                    "UNMAPPED_READS",
                    "ESTIMATED_LIBRARY_SIZE",
                    "UNPAIRED_READS_EXAMINED",
                    "READ_PAIRS_EXAMINED",
                    "READ_PAIR_OPTICAL_DUPLICATES",
                    "PERCENT_DUPLICATION",
                    "LIBRARY",
                    "READ_PAIR_DUPLICATES",
                    "UNPAIRED_READ_DUPLICATES"
                  ],
                  "properties": {
                    "UNMAPPED_READS": {
                      "type": "number"
                    },
                    "ESTIMATED_LIBRARY_SIZE": {
                      "type": "number"
                    },
                    "UNPAIRED_READS_EXAMINED": {
                      "type": "number"
                    },
                    "READ_PAIRS_EXAMINED": {
                      "type": "number"
                    },
                    "READ_PAIR_OPTICAL_DUPLICATES": {
                      "type": "number"
                    },
                    "PERCENT_DUPLICATION": {
                      "type": "number"
                    },
                    "LIBRARY": {
                      "type": "string"
                    },
                    "READ_PAIR_DUPLCICATES": {
                      "type": "number"
                    },
                    "UNPAIRED_READ_DUPLICATES": {
                      "type": "number"
                    }
                  }
                }
              }
            },
            "settings": {
              "type": "object",
              "required": [
                "chunking",
                "skip_markduplicates",
                "skip_metrics",
                "numberChunks",
                "skip_flexiprep",
                "aligner"
              ],
              "properties": {
                "aligner": {
                  "type": "string",
                  "enum": [
                    "bwa-mem",
                    "bwa-aln",
                    "bowtie",
                    "bowtie2",
                    "gsnap",
                    "tophat",
                    "stampy",
                    "star",
                    "star-2pass"
                  ]
                },
                "chunking": {
                  "type": "boolean"
                },
                "numberChunks": {
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "skip_flexiprep": {
                  "type": "boolean"
                },
                "skip_markduplicates": {
                  "type": "boolean"
                },
                "skip_metrics": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "bammetrics": {
          "type": "object",
          "required": [
            "files",
            "executables",
            "stats",
            "settings"
          ],
          "properties": {
            "files": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/file"
                  },
                  {
                    "$ref": "#/definitions/fileGroup"
                  }
                ]
              }
            },
            "executables": {
              "type": "object",
              "minItems": 1,
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/executable"
                  },
                  {
                    "$ref": "#/definitions/gatk_executable"
                  },
                  {
                    "$ref": "#/definitions/java_executable"
                  }
                ]
              }
            },
            "stats": {
              "type": "object",
              "required": [
                "MeanQualityByCycle",
                "multi_metrics",
                "CollectAlignmentSummaryMetrics",
                "QualityScoreDistribution",
                "wgs",
                "gc_bias",
                "CollectInsertSizeMetrics"
              ],
              "properties": {
                "MeanQualityByCycle": {
                  "$ref": "#/definitions/MeanQualityByCycle"
                },
                "multi_metrics": {
                  "$ref": "#/definitions/multi_metrics"
                },
                "hs_metrics": {
                  "$ref": "#/definitions/hs_metrics"
                },
                "CollectAlignmentSummaryMetrics": {
                  "$ref": "#/definitions/CollectAlignmentSummaryMetrics"
                },
                "QualityScoreDistribution": {
                  "$ref": "#/definitions/QualityScoreDistribution"
                },
                "wgs": {
                  "$ref": "#/definitions/wgs"
                },
                "CollectBaseDistributionByCycle": {
                  "$ref": "#/definitions/CollectBaseDistributionByCycle"
                },
                "gc_bias": {
                  "$ref": "#/definitions/gc_bias"
                },
                "CollectInsertSizeMetrics": {
                  "$ref": "#/definitions/CollectInsertSizeMetrics"
                },
                "targeted_pcr_metrics": {
                  "$ref": "#/definitions/targeted_pcr_metrics"
                },
                "patternProperties": {
                  "^.+-flagstat.*$": {
                    "$ref": "#/definitions/flagstat"
                  }
                }
              },
              "settings": {
                "type": "object",
                "properties": {
                  "amplicon_name": {
                    "type": "string"
                  },
                  "roi_name": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "shiva": {
            "type": "object",
            "required": [
              "files",
              "tags",
              "stats",
              "settings"
            ],
            "properties": {
              "files": {
                "type": "object"
              },
              "tags": {
                "type": "object"
              },
              "stats": {
                "type": "object"
              },
              "settings": {
                "type": "object",
                "required": [
                  "library_variantcalling",
                  "use_indel_realigner",
                  "use_base_recalibration"
                ],
                "properties": {
                  "library_variantcalling": {
                    "type": "boolean"
                  },
                  "use_indel_realigner": {
                    "type": "boolean"
                  },
                  "use_base_recalibration": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      }
    },
    "flagstat": {
      "type": "object",
      "properties": {
        "First normal, second read inverted (paired end orientation)": {
          "type": "number"
        },
        "MAPQ>60": {
          "type": "number"
        },
        "NotPrimaryAlignment": {
          "type": "number"
        },
        "ReadNegativeStrand": {
          "type": "number"
        },
        "FirstOfPair": {
          "type": "number"
        },
        "SecondOfPair": {
          "type": "number"
        },
        "MateUnmapped": {
          "type": "number"
        },
        "MAPQ>40": {
          "type": "number"
        },
        "MAPQ>20": {
          "type": "number"
        },
        "ProperPair": {
          "type": "number"
        },
        "First inverted, second read inverted": {
          "type": "number"
        },
        "MAPQ>0": {
          "type": "number"
        },
        "Mate on other chr": {
          "type": "number"
        },
        "SupplementaryAligment": {
          "type": "number"
        },
        "ReadFailsVendorQualityCheck": {
          "type": "number"
        },
        "MAPQ>10": {
          "type": "number"
        },
        "First inverted, second read normal": {
          "type": "number"
        },
        "Mapped": {
          "type": "number"
        },
        "ReadPaired": {
          "type": "number"
        },
        "MAPQ>50": {
          "type": "number"
        },
        "All": {
          "type": "number"
        },
        "Duplicates": {
          "type": "number"
        },
        "Mate in same strand": {
          "type": "number"
        },
        "MateNegativeStrand": {
          "type": "number"
        }
      }
    },
    "collect_alignment_summary_metrics": {
      "type": "object",
      "properties": {
        "PF_HQ_ALIGNED_READS": {
          "type": "number"
        },
        "PF_HQ_MEDIAN_MISMATCHES": {
          "type": "number"
        },
        "PF_HQ_ERROR_RATE": {
          "type": "number"
        },
        "PF_ALIGNED_BASES": {
          "type": "number"
        },
        "PF_HQ_ALIGNED_BASES": {
          "type": "number"
        },
        "READS_ALIGNED_IN_PAIRS": {
          "type": "number"
        },
        "PCT_PF_READS": {
          "type": "number"
        },
        "MEAN_READ_LENGTH": {
          "type": "number"
        },
        "PF_READS": {
          "type": "number"
        },
        "PF_READS_ALIGNED": {
          "type": "number"
        },
        "PF_MISMATCH_RATE": {
          "type": "number"
        },
        "BAD_CYCLES": {
          "type": "number"
        },
        "PF_INDEL_RATE": {
          "type": "number"
        },
        "PF_NOISE_READS": {
          "type": "number"
        },
        "STRAND_BALANCE": {
          "type": "number"
        },
        "PCT_READS_ALIGNED_IN_PAIRS": {
          "type": "number"
        },
        "PCT_PF_READS_ALIGNED": {
          "type": "number"
        },
        "PCT_ADAPTER": {
          "type": "number"
        },
        "TOTAL_READS": {
          "type": "number"
        },
        "PCT_CHIMERAS": {
          "type": "number"
        },
        "PF_HQ_ALIGNED_Q20_BASES": {
          "type": "number"
        }
      }
    },
    "MeanQualityByCycle": {
      "type": "object",
      "required": [
        "MEAN_QUALITY",
        "CYCLE"
      ],
      "properties": {
        "MEAN_QUALITY": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "CYCLE": {
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "multi_metrics": {
      "type": "object"
    },
    "hs_metrics": {
      "type": "object",
      "properties": {
        "HS_LIBRARY_SIZE": {
          "type": "number"
        },
        "HS_PENALTY_50X": {
          "type": "number"
        },
        "PCT_TARGET_BASES_10X": {
          "type": "number"
        },
        "OFF_BAIT_BASES": {
          "type": "number"
        },
        "ON_BAIT_BASES": {
          "type": "number"
        },
        "PCT_OFF_BAIT": {
          "type": "number"
        },
        "ON_BAIT_VS_SELECTED": {
          "type": "number"
        },
        "PF_UNIQUE_READS": {
          "type": "number"
        },
        "HS_PENALTY_30X": {
          "type": "number"
        },
        "PCT_TARGET_BASES_30X": {
          "type": "number"
        },
        "HS_PENALTY_40X": {
          "type": "number"
        },
        "TOTAL_READS": {
          "type": "number"
        },
        "ON_TARGET_BASES": {
          "type": "number"
        },
        "MEAN_TARGET_COVERAGE": {
          "type": "number"
        },
        "PCT_PF_UQ_READS": {
          "type": "number"
        },
        "BAIT_TERRITORY": {
          "type": "number"
        },
        "PCT_USABLE_BASES_ON_TARGET": {
          "type": "number"
        },
        "PCT_PF_READS": {
          "type": "number"
        },
        "PF_READS": {
          "type": "number"
        },
        "PCT_TARGET_BASES": {
          "type": "number"
        },
        "GQ_DROPOUT": {
          "type": "number"
        },
        "AT_DROPOUT": {
          "type": "number"
        },
        "PCT_TARGET_BASES_50X": {
          "type": "number"
        },
        "GENOME_SIZE": {
          "type": "number"
        },
        "PCT_PF_UQ_READS_ALIGNED": {
          "type": "number"
        },
        "FOLD_80_BASE_PENALTY": {
          "type": "number"
        },
        "HS_PENALTY_10X": {
          "type": "number"
        },
        "PCT_USABLE_BASES_ON_BAIT": {
          "type": "number"
        },
        "HS_PENALTY_20X": {
          "type": "number"
        },
        "ZERO_CVG_TARGETS_PCT": {
          "type": "number"
        },
        "PCT_TARGET_BASES_20X": {
          "type": "number"
        },
        "NEAR_BAIT_BASES": {
          "type": "number"
        },
        "TARGET_TERRITORY": {
          "type": "number"
        },
        "FOLD_ENRICHMENT": {
          "type": "number"
        },
        "PCT_TARGET_BASES_40X": {
          "type": "number"
        },
        "PCT_TARGET_BASES_100X": {
          "type": "number"
        },
        "BAIT_SET": {
          "type": "string"
        },
        "HS_PENALTY_100X": {
          "type": "number"
        },
        "BAIT_DESIGN_EFFICIENCY": {
          "type": "number"
        },
        "PCT_SELECTED_BASES": {
          "type": "number"
        },
        "MEAN_BAIT_COVERAGE": {
          "type": "number"
        },
        "PF_UQ_BASES_ALIGNED": {
          "type": "number"
        },
        "PF_UQ_READS_ALGINED": {
          "type": "number"
        }
      }
    },
    "CollectAlignmentSummaryMetrics": {
      "type": "object",
      "required": [
        "PAIR",
        "FIRST_OF_PAIR",
        "SECOND_OF_PAIR"
      ],
      "properties": {
        "PAIR": {
          "$ref": "#/definitions/collect_alignment_summary_metrics"
        },
        "FIRST_OF_PAIR": {
          "$ref": "#/definitions/collect_alignment_summary_metrics"
        },
        "SECOND_OF_PAIR": {
          "$ref": "#/definitions/collect_alignment_summary_metrics"
        }
      }
    },
    "QualityScoreDistribution": {
      "type": "object",
      "required": [
        "COUNT_OF_Q",
        "QUALITY"
      ],
      "properties": {
        "COUNT_OF_Q": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "QUALITY": {
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "wgs": {
      "type": "object",
      "required": [
        "metrics",
        "histogram"
      ],
      "properties": {
        "histogram": {
          "type": "object",
          "required": [
            "count",
            "coverage"
          ],
          "properties": {
            "count": {
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "coverage": {
              "type": "array",
              "items": {
                "type": "number"
              }
            }
          }
        },
        "metrics": {
          "type": "object",
          "properties": {
            "PCT_EXC_TOTAL": {
              "type": "number"
            },
            "MAD_COVERAGE": {
              "type": "number"
            },
            "PCT_EXC_BASEQ": {
              "type": "number"
            },
            "PCT_70X": {
              "type": "number"
            },
            "GENOME_TERRITORY": {
              "type": "number"
            },
            "PCT_20X": {
              "type": "number"
            },
            "PCT_EXC_UNPAIRED": {
              "type": "number"
            },
            "PCT_EXC_DUPE": {
              "type": "number"
            },
            "PCT_10X": {
              "type": "number"
            },
            "MEDIAN_COVERAGE": {
              "type": "number"
            },
            "SD_COVERAGE": {
              "type": "number"
            },
            "PCT_EXC_OVERLAP": {
              "type": "number"
            },
            "PCT_5X": {
              "type": "number"
            },
            "PCT_EXC_CAPPED": {
              "type": "number"
            },
            "PCT_EXC_MAPQ": {
              "type": "number"
            },
            "PCT_100X": {
              "type": "number"
            },
            "PCT_90X": {
              "type": "number"
            },
            "PCT_80X": {
              "type": "number"
            },
            "PCT_60X": {
              "type": "number"
            },
            "PCT_15X": {
              "type": "number"
            },
            "PCT_50X": {
              "type": "number"
            },
            "PCT_25X": {
              "type": "number"
            },
            "PCT_40X": {
              "type": "number"
            },
            "MEAN_COVERAGE": {
              "type": "number"
            },
            "PCT_30X": {
              "type": "number"
            }
          }
        }
      }
    },
    "CollectBaseDistributionByCycle": {
      "type": "object",
      "required": [
        "PCT_A",
        "PCT_T",
        "PCT_G",
        "PCT_C",
        "READ_END",
        "CYCLE"
      ],
      "properties": {
        "PCT_A": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "PCT_T": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "PCT_C": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "PCT_G": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "PCT_N": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "READ_END": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "CYCLE": {
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "gc_bias": {
      "type": "object",
      "required": [
        "MEAN_BASE_QUALITY",
        "ERROR_BAR_WIDTH",
        "NORMALIZED_COVERAGE",
        "WINDOWS",
        "READ_STARTS",
        "ACCUMULATION_LEVEL",
        "READ_GROUP",
        "LIBRARY",
        "SAMPLE",
        "GC"
      ],
      "properties": {
        "MEAN_BASE_QUALITY": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "ERROR_BAR_WIDTH": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "NORMALIZED_COVERAGE": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "WINDOWS": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "READ_STARTS": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "ACCUMULATION_LEVEL": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "READ_GROUP": {
          "type": "array",
          "items": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "LIBRARY": {
          "type": "array",
          "items": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "SAMPLE": {
          "type": "array",
          "items": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "GC": {
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "CollectInsertSizeMetrics": {
      "type": "object",
      "required": [
        "metrics",
        "histogram"
      ],
      "properties": {
        "histogram": {
          "type": "object",
          "required": [
            "All_Reads.fr_count",
            "insert_size"
          ],
          "properties": {
            "All_Reads.fr_count": {
              "type": "array",
              "items": {
                "type": "number"
              }
            },
            "insert_size": {
              "type": "array",
              "items": {
                "type": "number"
              }
            }
          }
        },
        "metrics": {
          "type": "object",
          "properties": {
            "WIDTH_OF_70_PERCENT": {
              "type": "number"
            },
            "READ_PAIRS": {
              "type": "number"
            },
            "PAIR_ORIENTATION": {
              "type": "string"
            },
            "MEDIAN_INSERT_SIZE": {
              "type": "number"
            },
            "STANDARD_DEVIATION": {
              "type": "number"
            },
            "WIDTH_OF_30_PERCENT": {
              "type": "number"
            },
            "WIDTH_OF_10_PERCENT": {
              "type": "number"
            },
            "MEAN_INSERT_SIZE": {
              "type": "number"
            },
            "WIDTH_OF_60_PERCENT": {
              "type": "number"
            },
            "WIDTH_OF_50_PERCENT": {
              "type": "number"
            },
            "WIDTH_OF_80_PERCENT": {
              "type": "number"
            },
            "MAX_INSERT_SIZE": {
              "type": "number"
            },
            "MEDIAN_ABSOLUTE_DEVIATION": {
              "type": "number"
            },
            "WIDTH_OF_99_PERCENT": {
              "type": "number"
            },
            "MIN_INSERT_SIZE": {
              "type": "number"
            },
            "WIDTH_OF_20_PERCENT": {
              "type": "number"
            },
            "WIDTH_OF_40_PERCENT": {
              "type": "number"
            },
            "WIDTH_OF_90_PERCENT": {
              "type": "number"
            }
          }
        }
      }
    },
    "targeted_pcr_metrics": {
      "type": "object",
      "properties": {
        "CUSTOM_AMPLICON_SET": {
          "type": "string"
        },
        "PCT_TARGET_BASES_10X": {
          "type": "number"
        },
        "PCT_TATRGET_BASES_30X": {
          "type": "number"
        },
        "PF_SELECTED_UNIQUE_PAIRS": {
          "type": "number"
        },
        "TOTAL_READS": {
          "type": "number"
        },
        "ON_TARGET_BASES": {
          "type": "number"
        },
        "MEAN_TARGET_COVERAGE": {
          "type": "number"
        },
        "PCT_OFF_AMPLICON": {
          "type": "number"
        },
        "PCT_PF_UQ_READS": {
          "type": "number"
        },
        "AMPLICON_TERRITORY": {
          "type": "number"
        },
        "PCT_AMPLIFIED_BASES": {
          "type": "number"
        },
        "PCT_PF_READS": {
          "type": "number"
        },
        "PF_READS": {
          "type": "number"
        },
        "MEAN_AMPLICON_COVERAGE": {
          "type": "number"
        },
        "PCT_TARGET_BASES_2X": {
          "type": "number"
        },
        "GC_DROPOUT": {
          "type": "number"
        },
        "AT_DROPOUT": {
          "type": "number"
        },
        "PF_BASES": {
          "type": "number"
        },
        "GENOME_SIZE": {
          "type": "number"
        },
        "PCT_PF_UQ_READS_ALIGNED": {
          "type": "number"
        },
        "FOLD_80_BASE_PENALTY": {
          "type": "number"
        },
        "ZERO_CVG_TARGETS_PCT": {
          "type": "number"
        },
        "PCT_TARGET_BASES_20X": {
          "type": "number"
        },
        "ON_AMPLICON_VS_SELECTED": {
          "type": "number"
        },
        "TARGET_TERRITORY": {
          "type": "number"
        },
        "FOLD_ENRICHMENT": {
          "type": "number"
        },
        "PF_SELECTED_PAIRS": {
          "type": "number"
        },
        "ON_AMPLICON_BASES": {
          "type": "number"
        },
        "NEAR_AMPLICON_BASES": {
          "type": "number"
        },
        "ON_TARGET_FROM_PAIR_BASES": {
          "type": "number"
        },
        "OFF_AMPLICON_BASES": {
          "type": "number"
        },
        "PF_UNIQUE_READS": {
          "type": "number"
        },
        "PF_UQ_BASES_ALIGNED": {
          "type": "number"
        },
        "PF_UQ_READS_ALIGNED": {
          "type": "number"
        }
      }
    },
    "covstat": {
      "type": "object",
      "required": [
        "coverage"
      ],
      "properties": {
        "coverage": {
          "type": "object",
          "minItems": 1,
          "additionalProperties": {
            "$ref": "#/definition/covstat_chromosome"
          }
        }
      }
    },
    "covstat_chromosome": {
      "type": "object",
      "required": [
        "total",
        "mean",
        "median",
        "max",
        "horizontal",
        "width_nonzero",
        "frac_min_10x",
        "frac_min_20x",
        "frac_min_30x",
        "frac_min_40x",
        "frac_min_50x"
      ],
      "properties": {
        "total": {
          "type": "number"
        },
        "mean": {
          "type": "number"
        },
        "median": {
          "type": "number"
        },
        "max": {
          "type": "number"
        },
        "horizontal": {
          "type": "number"
        },
        "width_nonzero": {
          "type": "number"
        },
        "frac_min_10x": {
          "type": "number"
        },
        "frac_min_20x": {
          "type": "number"
        },
        "frac_min_30x": {
          "type": "number"
        },
        "frac_min_40x": {
          "type": "number"
        },
        "frac_min_50x": {
          "type": "number"
        }
      }
    },
    "variant_effect_predictor": {
      "type": "object",
      "required": [
        "VEP_run_statistics",
        "General_statistics",
        "Consequences_(all)",
        "Consequences_(most_severe)",
        "Coding_consequences",
        "Variant_classes",
        "Position_in_protein"
      ],
      "properties": {
        "VEP_run_statistics": {
          "type": "object",
          "properties": {
            "VEP_version_(API)": {
              "type": "string"
            },
            "Start_time": {
              "type": "string"
            },
            "Output_file": {
              "type": "string"
            },
            "Cache/Database": {
              "type": "string"
            },
            "Run_time": {
              "type": "string"
            },
            "Input_file_(format)": {
              "type": "string"
            },
            "Command_line_options": {
              "type": "string"
            },
            "Species": {
              "type": "string"
            },
            "End_time": {
              "type": "string"
            }
          }
        },
        "General_statistics": {
          "type": "object",
          "properties": {
            "Novel_/_existing_variants": {
              "type": "string"
            },
            "Overlapped_genes": {
              "type": "number"
            },
            "Variants_processed": {
              "type": "number"
            },
            "Lines_of_output_written": {
              "type": "number"
            },
            "Lines_of_input_read": {
              "type": "number"
            },
            "Variants_remaining_after_filtering": {
              "type": "number"
            },
            "Overlapped_transcripts": {
              "type": "number"
            },
            "Overlapped_regulatory_features": {
              "type": "number"
            }
          }
        },
        "Consequences_(all)": {
          "type": "object",
          "properties": {
            "": {
              "type": "string"
            }
          },
          "additionalProperties": {
            "type": "number"
          }
        },
        "Consequences_(most_severe)": {
          "type": "object",
          "properties": {
            "": {
              "type": "string"
            }
          },
          "additionalProperties": {
            "type": "number"
          }
        },
        "Coding_consequences": {
          "type": "object",
          "properties": {
            "": {
              "type": "string"
            }
          },
          "additionalProperties": {
            "type": "number"
          }
        },
        "Variant_classes": {
          "type": "object",
          "properties": {
            "": {
              "type": "string"
            },
            "additionalProperties": {
              "type": "number"
            }
          }
        },
        "Position_in_protein": {
          "type": "object",
          "patternProperties": {
            "\\d+-\\d+%": {
              "type": "number"
            }
          },
          "additionalProperties": false
        }
      },
      "patternProperties": {
        "^Distribution_of_variants_on_chromosome_\\d+$": {
          "type": "object",
          "minItems": 1,
          "properties": {
            "": {
              "type": "string"
            }
          },
          "patternProperties": {
            "^\\d+$": {
              "type": "number"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "contig": {
      "description": "A contig",
      "type": "object",
      "required": [
        "length",
        "md5"
      ],
      "properties": {
        "length": {
          "description": "Length of the contig in bases",
          "type": "number",
          "minimum": 1
        },
        "md5": {
          "description": "The md5 checksum of the contig",
          "$ref": "#/definitions/md5"
        }
      }
    },
    "file": {
      "description": "Entry for a file",
      "required": [
        "path",
        "md5"
      ],
      "properties": {
        "path": {
          "type": "string"
        },
        "md5": {
          "$ref": "#/definitions/md5"
        }
      }
    },
    "fileGroup": {
      "description": "Entry for a group of files",
      "type": "object",
      "minItems": 1,
      "additionalProperties": {
        "$ref": "#/definitions/file"
      }
    },
    "md5": {
      "type": "string",
      "pattern": "^([a-f0-9A-F]{32})|error_on_capture$"
    },

    "statsFastqc": {
      "description": "Sequence statistics created by FastQC (part of the Flexiprep pipeline)",
      "type": "object",
      "required": [ "per_base_sequence_quality", "per_base_sequence_content" ],

      "properties": {

        "per_base_sequence_quality": {
          "description": "Quality statistics per base position",
          "type": "object",
          "additionalProperties": false,

          "patternProperties": {
            "^([0-9]+|[0-9]+-[0-9]+)$": {
              "description": "Aggregate statistics per base position or per group of base positions",
              "type": "object",
              "required": [ "mean", "median", "lower_quartile", "upper_quartile", "percentile_10th", "percentile_90th" ],
              "properties": {

                "mean": { "type": "number" },
                "median": { "type": "number" },
                "lower_quartile": { "type": "number" },
                "upper_quartile": { "type": "number" },
                "percentile_10th": { "type": "number" },
                "percentile_90th": { "type": "number" }
              }
            }
          }
        },

        "per_base_sequence_content": {
          "description": "Composition statistics per base position",
          "type": "object",
          "additionalProperties": false,

          "patternProperties": {
            "^([0-9]+|[0-9]+-[0-9]+)$": {
              "description": "Base composition per base position or per group of base positions",
              "type": "object",
              "additionalProperties": false,

              "patternProperties": {
                "^[ACGTURYMKSWHBVDN]$": { "type": "number" }
              }
            }
          }
        }
      }
    },

    "statsCutadapt": {
      "description": "Sequence statistics from a Cutadapt run (part of the Flexiprep pipeline)",
      "type": "object",
      "required": [ "adapters", "num_reads_affected", "num_reads_discarded_too_long", "num_reads_discarded_too_short" ],

      "properties": {

        "num_reads_affected": { "type": "integer" },
        "num_reads_discarded_too_long": { "type": "integer" },
        "num_reads_discarded_too_short": { "type": "integer" },

        "adapters": {
          "description": "Adapters found in the library",
          "type": "object",
          "additionalProperties": false,

          "patternProperties": {
            "^.+$": {
              "oneOf": [
                {
                  "description": "Adapter sequence and how many times it is clipped by Cutadapt. This is in version 0.4.0 or earlier.",
                  "type": "array",
                  "items": { "type": [ "string", "integer" ] },
                  "minItems": 2,
                  "maxItems": 2
                },
                {
                  "description": "Cutadapt clip counts. This is in version 0.5.0",
                  "type": "integer",
                  "format": "int32"
                },
                {
                  "description": "Adapter sequence name, the sequence itself, and how many times it is clipped. In version 0.6.0.",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "sequence": {
                      "description": "Adapter sequence.",
                      "type": "string"
                    },
                    "count": {
                      "description": "How many times the adapter is clipped.",
                      "type": "integer",
                      "format": "int32"
                    }
                  }
                },
                {
                  "description": "Adapter sequence name, the sequence itself. Map with counts and histogram. In version 0.7.0 or higher.",
                  "type": "object",
                  "additionalProperties": true,
                  "properties": {
                    "sequence": {
                      "description": "Adapter sequence.",
                      "type": "string"
                    },
                    "stats": {
                      "description": "Statistics for this adapter, with count and histogram",
                      "type": "object",
                      "additionalProperties": true,
                      "properties": {
                        "count": {
                          "description": "How many times the adapter is clipped.",
                          "type": "integer",
                          "format": "int32"
                        },
                        "histogram": {
                          "description": "Histogram of clipped bases from either 3p or 5p end",
                          "type": "object",

                          "patternProperties": {
                            "^[3p|5p]$": { "type": "object" }
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },

    "statsSickle": {
      "description": "Statistics for base-quality trimming, based on sickle results. Found in version 0.5.0 or higher.",
      "type": "object",
      "required": [ "num_reads_kept", "num_reads_discarded_total" ],

      "properties": {
        "num_reads_kept": { "type": "integer" },
        "num_reads_discarded_total": { "type": "integer" }
      }
    },
    "statsSeqstat": {
      "description": "Sequence statistics created by SeqStat (part of the Flexiprep pipeline)",
      "type": "object",
      "required": [ "bases", "reads" ],
      "additionalProperties": false,

      "properties": {

        "bases": {
          "description": "Base pair-level statistics",
          "type": "object",
          "required": [ "nucleotides", "num_total", "num_qual" ],

          "properties": {

            "nucleotides": {
              "description": "Counts of specific nucleotides across all reads (including ambiguous characters as outlined in http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2865858/",
              "type": "object",
              "additionalProperties": false,

              "patternProperties": {
                "^[ACGTURYMKSWHBVDN]$": { "type": "integer" }
              }
            },

            "num_total": {
              "description": "Total number of bases",
              "type": "integer"
            },

            "num_qual": {
              "description": "Array of base counts by quality, from quality 0 to 60",
              "type": "array",
              "items": { "type": "integer" }
            }
          }
        },

        "reads": {
          "description": "Read-level statistics",
          "type": "object",
          "required": [ "len_max", "len_min", "num_with_n", "num_total", "num_avg_qual_gte", "qual_encoding" ],

          "properties": {

            "len_max": {
              "description": "Length of longest read",
              "type": "integer"
            },

            "len_min": {
              "description": "Length of shortest read",
              "type": "integer"
            },

            "num_with_n": {
              "description": "Number of reads that contains at least one 'N' or 'n' base",
              "type": "integer"
            },

            "num_total": {
              "description": "Total number of reads",
              "type": "integer"
            },

            "num_avg_qual_gte": {
              "description": "Number of reads with quality greater than a certain number",
              "type": "object",
              "additionalProperties": false,

              "patternProperties": {
                "^[0-9]+$": { "type": "integer" }
              }
            },

            "qual_encoding": {
              "description": "Quality encoding; which can be sanger (ASCII offset 33), solexa, or illumina (both with ASCII offset 64)",
              "type": "string",
              "enum": [ "sanger", "illumina", "solexa" ]
            },

            "len_histogram": {
              "description": "Holds the histogram of all read lengths found in the fastq file",
              "type": "array",
              "items": { "type": "integer" }
            }
          }
        }
      }
    }
  }
}
